# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserEntity {
  """用户的 ID"""
  id: Int!

  """用户性别"""
  gender: String!

  """微信平台提供的 openid"""
  openid: String!

  """姓名"""
  name: String

  """生日"""
  birthday: DateTime

  """学历"""
  education: Education

  """省"""
  province: String

  """市"""
  city: String

  """区"""
  region: String

  """头像 URL"""
  avatar_url: String

  """电子邮箱"""
  email: String

  """手机号"""
  phone: String
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""学历"""
enum Education {
  MIDDLE_SCHOOL
  HIGH_SCHOOL
  UNDERGRADUATE
  COLLEGE
  MASTER
  DOCTOR
}

type CompanyEntity {
  """公司的 ID"""
  id: Int!

  """名称"""
  name: String

  """公司简介"""
  profile: String

  """省"""
  province: String

  """市"""
  city: String

  """区"""
  region: String

  """法人姓名"""
  corporate: String

  """注册资本"""
  assets: String

  """注册日期"""
  birthday: DateTime

  """电话"""
  phone: String

  """公司 LOGO 的 URL"""
  logo_url: String
}

type PositionEntity {
  """职位 ID"""
  id: Int!

  """公司 ID"""
  company_id: Int!

  """职位名"""
  name: String!

  """职位简介"""
  profile: String

  """招聘条件"""
  condition: String

  """tag 列表"""
  tags: [String!]

  """最小工资"""
  salary_min: Int

  """最大工资"""
  salary_max: Int

  """创建时间"""
  created_at: DateTime

  """修改时间"""
  updated_at: DateTime
}

type PositionSearchData {
  """返回的职位实体列表"""
  list: [PositionEntity!]
}

type ResumeEntity {
  """ID"""
  id: Int!

  """简历名称"""
  name: String

  """所属用户 ID"""
  user_id: Int!

  """工资期望最小值"""
  salary_min: Int

  """工资期望最大值"""
  salary_max: Int

  """省"""
  province: String

  """市"""
  city: String

  """区"""
  region: String

  """简历权限"""
  permission: ResumePermisssion

  """工作经验（年）"""
  exp: Int

  """创建时间"""
  created_at: DateTime

  """更新时间"""
  updated_at: DateTime
}

"""简历权限"""
enum ResumePermisssion {
  PUBLIC
  PRIVATE
}

type ApplyEntity {
  """ID"""
  id: Int!

  """用户 ID"""
  user_id: Int!

  """职位 ID"""
  position_id: Int!

  """简历 ID"""
  resume_id: Int!

  """投递状态"""
  state: ApplyState!

  """创建时间"""
  created_at: DateTime

  """更新时间"""
  updated_at: DateTime
}

"""投递状态"""
enum ApplyState {
  POST
  REVISION
  ACCEPT
  REJECT
}

type FavoriteEntity {
  """收藏记录 ID"""
  id: Int!

  """用户的 ID"""
  user_id: Int!

  """职位的 ID"""
  position_id: Int!

  """创建时间"""
  created_at: DateTime!

  """修改时间"""
  updated_at: DateTime!
}

type Query {
  """获取数据库中的名字（demo 测试用）"""
  getName(
    """数据库中的ID（测试用）"""
    id: Int!
  ): String

  """使用 ID 获取公司信息"""
  getApplyInfoById(applyId: Int!): ApplyEntity!

  """绑定用户openid"""
  bindOpenId(openId: String!): Float!

  """使用 ID 获取用户信息"""
  getUserInfoById(userId: Int!): UserEntity!

  """使用 ID 获取公司信息"""
  getCompanyInfoById(companyId: Int!): CompanyEntity!

  """获取默认职位列表"""
  getDefaultPositions: PositionSearchData!

  """根据 ID 获取职位信息"""
  getPositionById(positionId: Int!): PositionEntity!

  """根据搜索字符串和过滤器参数搜索职位"""
  searchFilteredPositions(skip: Int, take: Int, filterInput: PositionFilterInput, searchInput: String): PositionSearchData!

  """使用 ID 获取简历信息"""
  getResumeInfoById(resumeId: Int!): ResumeEntity!

  """使用用户 ID 获取该用户的简历信息"""
  getResumeInfoByUser(userId: Int!): [ResumeEntity!]!

  """使用用户 ID 获取该用户的收藏信息"""
  getFavoriteInfoByUser(userId: Int!): [FavoriteEntity!]!
}

input PositionFilterInput {
  """最小期望工资"""
  salary_min: Int

  """最大期望工资"""
  salary_max: Int

  """省"""
  province: String

  """市"""
  city: String

  """区"""
  region: String

  """职位标签"""
  tag: [String!]

  """排序项"""
  order_by: OrderItem

  """排序顺序"""
  order: Order
}

"""排序项"""
enum OrderItem {
  SALARY_MIN
  SALARY_MAX
  UPDATED_AT
}

"""排序顺序"""
enum Order {
  ASC
  DESC
}

type Mutation {
  """修改用户信息"""
  updateUserInfo(userInput: UserInfoUpdateInput!): Boolean!

  """修改用户头像url"""
  updateAvatar(userInput: UserInfoUpdateInput!, url: String!): Boolean!

  """更新或插入简历信息，输入中不含 ID 或者查无此 ID 时新建记录，否则修改已有记录"""
  updateResumeInfo(resumeInput: ResumeInput!): Boolean!

  """删除简历信息"""
  deleteResumeInfo(resumeId: Int!): Boolean!

  """插入申请记录"""
  insertApplyRecord(applyInput: ApplyInput!): Boolean!

  """删除（撤回）申请记录"""
  deleteApply(applyId: Int!): Boolean!
}

input UserInfoUpdateInput {
  """用户的 ID"""
  id: Int!

  """姓名"""
  name: String

  """用户性别"""
  gender: String!

  """生日"""
  birthday: DateTime

  """学历"""
  education: Education

  """省"""
  province: String

  """市"""
  city: String

  """区"""
  region: String

  """电子邮箱"""
  email: String

  """手机号"""
  phone: String

  """头像 URL"""
  avatar_url: String
}

input ResumeInput {
  """ID"""
  id: Int

  """简历名称"""
  name: String

  """所属用户 ID"""
  user_id: Int!

  """工资期望最小值"""
  salary_min: Int

  """工资期望最大值"""
  salary_max: Int

  """省"""
  province: String

  """市"""
  city: String

  """区"""
  region: String

  """简历权限"""
  permission: ResumePermisssion

  """工作经验（年）"""
  exp: Int
}

input ApplyInput {
  """用户 ID"""
  user_id: Int!

  """职位 ID"""
  position_id: Int!

  """简历 ID"""
  resume_id: Int!
}
